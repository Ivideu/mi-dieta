<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Calculadora de raciones e insulina</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <h1>Calculadora de raciones de HC e insulina rápida</h1>
    <p>
      Herramienta educativa. No sustituye la pauta de tu endocrino.
      Configura tus propios ratios indicados por tu equipo médico.
    </p>
  </header>

  <main>
    <section class="card">
      <h2>1. Configuración personal</h2>
      <div class="grid">
        <label>
          <span>Gramos de HC por ración</span>
          <input type="number" id="gramsPerExchange" value="10" min="5" max="20" />
        </label>

        <label>
          <span>Ratio insulina / HC (u por ración)</span>
          <input type="number" id="insulinPerExchange" value="1" step="0.1" min="0" />
        </label>

        <label>
          <span>Glucemia objetivo (mg/dL)</span>
          <input type="number" id="targetGlucose" value="100" min="60" max="200" />
        </label>

        <label>
          <span>Factor de corrección (mg/dL bajados por 1 u)</span>
          <input type="number" id="correctionFactor" value="50" min="5" />
        </label>
      </div>
      <p class="note">
        Estos valores deben ser definidos por tu endocrino (ratio insulina/HC y factor de corrección).
      </p>
    </section>

    <section class="card">
      <h2>2. Foto del plato</h2>
      <p>
        Sube una foto de tu plato. En esta versión, la app no “ve” la comida:
        tú estimas los gramos de hidratos usando la tabla de raciones.
        Más adelante se puede conectar a un modelo de visión.
      </p>
      <input type="file" id="platePhoto" accept="image/*" />
      <div id="photoPreview"></div>
    </section>

    <section class="card">
      <h2>3. Introducir alimentos del plato</h2>
      <p>
        Usa la tabla de raciones (por ejemplo, 100 g de manzana ≈ 1 ración, 20 g de pan ≈ 1 ración, etc.)
        para estimar los gramos de HC.
      </p>

      <div id="foodList"></div>

      <button id="addFoodBtn">Añadir alimento</button>
    </section>

    <section class="card">
      <h2>4. Glucemia actual y resultado</h2>
      <label>
        <span>Glucemia actual (mg/dL)</span>
        <input type="number" id="currentGlucose" value="120" min="20" />
      </label>

      <button id="calculateBtn">Calcular raciones e insulina</button>

      <div id="results">
        <p><strong>Raciones totales:</strong> <span id="totalExchanges">0</span></p>
        <p><strong>Insulina para comida (HC):</strong> <span id="mealInsulin">0</span> u</p>
        <p><strong>Insulina de corrección:</strong> <span id="correctionInsulin">0</span> u</p>
        <p><strong>Insulina total sugerida:</strong> <span id="totalInsulin">0</span> u</p>
        <p class="note">
          Revisa siempre el resultado con tu pauta médica. No ajustes dosis sin consultar con tu equipo.
        </p>
      </div>
    </section>

    <section class="card">
      <h2>5. Mini tabla de ejemplo (del PDF)</h2>
      <ul>
        <li>20 g de pan ≈ 1 ración de HC</li>
        <li>100 g de manzana ≈ 1 ración de HC</li>
        <li>150 g de melón ≈ 1 ración de HC</li>
        <li>50 g de patata cocida ≈ 1 ración de HC</li>
      </ul>
      <p class="note">
        Amplía esta tabla en <code>script.js</code> con más alimentos usando los datos de tu documento.
      </p>
    </section>
  </main>

  <footer>
    <p>Proyecto personal de conteo de raciones e insulina rápida.</p>
  </footer>

  <script src="script.js"></script>
</body>
</html>
